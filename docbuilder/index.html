<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">

	<title>DocBuilder - Docbuilder</title>

        <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../css/highlight.css">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href="../README/">Docbuilder</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="../README/">ReadMe</a>
                    </li>
                
                
                
                    <li class="active">
                        <a href="./">DocBuilder</a>
                    </li>
                
                
                
                    <li >
                        <a href="../StyleGuide/">Style Guide</a>
                    </li>
                
                
                
                    <li >
                        <a href="../VariableNamingStyleGuide/">Variable Naming Style Guide</a>
                    </li>
                
                
                
                    <li >
                        <a href="../examples/helloworld.pylit/">Example Hello World</a>
                    </li>
                
                
                </ul>
            

            
            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                
                
                <li >
                    <a rel="next" href="../README/">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="../StyleGuide/">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
                
            </ul>
            
        </div>
    </div>
</div>

        <div class="container">
            
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#docbuilder">Docbuilder</a></li>
        
            <li><a href="#why-docbuilder">Why Docbuilder?</a></li>
        
    
        <li class="main "><a href="#notes">Notes:</a></li>
        
    
        <li class="main "><a href="#dependencies">Dependencies:</a></li>
        
    
        <li class="main "><a href="#metadata">Metadata:</a></li>
        
    
        <li class="main "><a href="#string-manage">String Manage:</a></li>
        
    
        <li class="main "><a href="#check-export-file">Check Export File</a></li>
        
    
        <li class="main "><a href="#check-export-directory">Check Export Directory</a></li>
        
    
        <li class="main "><a href="#unicode-compare-character">Unicode Compare Character</a></li>
        
    
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="docbuilder">Docbuilder</h1>
<p><em>Docbuilder is a small python script that will take another Python program, and turn it into documentation.</em></p>
<p>Docbuilder is a tool for developing <em>Literate Programs</em> with Python.</p>
<p>A literate program combines both Markdown and a programming language. It is traditionally used for scientific purposes.</p>
<h2 id="why-docbuilder">Why Docbuilder?</h2>
<ul>
<li>
<p>No need to detangle programs before running them - Python reads the Docbuilder syntax fine. If your code is written correctly, it will run.</p>
</li>
<li>
<p>Generates Markdown instead of generating both Markdown and an executable file.</p>
</li>
<li>
<p>The options for Literate Programming under Python is few and far between.</p>
</li>
<li>
<p>Impressive compatibility. It doesn't really matter what version of Python you are running. Docbuilder will run.</p>
</li>
</ul>
<h1 id="notes">Notes:</h1>
<ul>
<li>
<p>Docbuilder will not ask before clobbering your output file.</p>
</li>
<li>
<p>Docbuilder has no dependencies.</p>
</li>
<li>
<p>Docbuilder simply converts your comments and code into Markdown.</p>
</li>
<li>
<p>Docbuilder builds Markdown, and is mostly compatible with whatever <a href="https://pythonhosted.org/Markdown/">Python Markdown</a> can read. But just in case, check the <a href="https://github.com/shakna-israel/docbuilder/issues">Issues</a>.</p>
</li>
</ul>
<h1 id="dependencies">Dependencies:</h1>
<p>Used to read, write and check files.</p>
<pre><code>import os
</code></pre>

<p>Used so we can kill Docbuilder to make it behave.</p>
<pre><code>import sys
</code></pre>

<p>Used to handle command-line arguments.</p>
<pre><code>import argparse
</code></pre>

<p>Used for speedy opening of files</p>
<pre><code>import fileinput
</code></pre>

<h1 id="metadata">Metadata:</h1>
<p>These are used with setuptools and Pip to let people know what exactly they are installing.</p>
<pre><code>__author__ = 'James Milne'
</code></pre>

<pre><code>__version__ = '0.4'
</code></pre>

<pre><code>__license__ = 'MIT'
</code></pre>

<pre><code>__description__ = 'Docbuilder allows you to build Markdown documents without the need for detangling executables from literate Python programs. http://docbuilder.rtfd.org'
</code></pre>

<h1 id="string-manage">String Manage:</h1>
<p><em>stringManage</em> is one of the main functions of Docbuilder.</p>
<p>It is in this function that each line of the Python Literate program is examined.</p>
<pre><code>def stringManage(lineInFile):
</code></pre>

<p>verboseActive checks to see how talkative Docbuilder is expected to be.</p>
<pre><code>    verboseActive = getFlags()[3]
</code></pre>

<p>We set up the line fed into stringManage as the unmodified <em>stringUnstripped</em> variable.</p>
<pre><code>    stringUnstripped = lineInFile
</code></pre>

<p>We check if the line is a UNIX style <em>hash bang</em>, because we don't particularly want to see that in the documentation file.</p>
<pre><code>    if stringUnstripped[:3] == &quot;#!/&quot;:
</code></pre>

<pre><code>        if verboseActive:
</code></pre>

<pre><code>            print(&quot;Found hashbang! Ignoring.&quot;)
</code></pre>

<p>By setting <em>stringUnstripped</em> to <em>hashBang</em> it can be discarded later by another function.</p>
<pre><code>        stringUnstripped = &quot;hashBang&quot;
</code></pre>

<p>If Docbuilder is talkative, it will tell the console exactly what the line it is examining looks like.</p>
<pre><code>    if verboseActive:
</code></pre>

<pre><code>        print(&quot;The current unstripped line is... &quot; + stringUnstripped)
</code></pre>

<p>We strip the white space around the unmodified string, and name this new variable <em>stringStripped</em>.</p>
<pre><code>    stringStripped = stringUnstripped.strip()
</code></pre>

<p>We fetch the first character of the string so we can compare it later.</p>
<pre><code>    firstChar = stringStripped[:1]
</code></pre>

<p>If Docbuilder is talkative, it will tell us what the first character looks like.</p>
<pre><code>    if verboseActive:
</code></pre>

<pre><code>        print(&quot;The first character of the current line is...&quot; + firstChar)
</code></pre>

<p>Then it will tell us what the whitespace stripped line looks like.</p>
<pre><code>    if verboseActive:
</code></pre>

<pre><code>        print(&quot;The current stripped line is... &quot; + stringStripped)
</code></pre>

<p>Finally, we strip the first character from the line so we can examine it better, without having to strip the character away later.</p>
<pre><code>    stringStripped = stringStripped[1:].strip()
</code></pre>

<p>If Docbuilder is talkative, it will tell us what that line looks like without the first character.</p>
<pre><code>    if verboseActive:
</code></pre>

<pre><code>        print(&quot;After first character stripping, the current unstripped line is...&quot; + stringStripped)
</code></pre>

<p>Finally, we send the three variables, <em>stringUnstripped</em>, <em>stringStripped</em> and <em>firstChar</em> back to whatever function called <em>stringManage</em>.</p>
<pre><code>    return (stringUnstripped, stringStripped, firstChar)
</code></pre>

<h1 id="check-export-file">Check Export File</h1>
<p>This is a simple function, that gets given a file name, checks if it exists, and if so, clobbers it.</p>
<pre><code>def checkExportFile(fileExists):
</code></pre>

<pre><code>    clobberFile = getFlags()[4]
</code></pre>

<p>Check if Docbuilder should kill any file if it is pre-existing.</p>
<pre><code>    if clobberFile:
</code></pre>

<pre><code>        if os.path.isfile(fileExists):
</code></pre>

<p>If the file exists, and Docbuilder is expected to clobber, kill the file.</p>
<pre><code>            os.remove(fileExists)
</code></pre>

<pre><code>    else:
</code></pre>

<p>If the file exists, and Docbuilder is expected to not clobber, print a message and gracefully exit.</p>
<pre><code>        if os.path.isfile(fileExists):
</code></pre>

<pre><code>            print(&quot;File &quot; + fileExists + &quot; exists. Not clobbering.&quot;)
</code></pre>

<pre><code>            sys.exit(0)     
</code></pre>

<h1 id="check-export-directory">Check Export Directory</h1>
<p>This is a naive function that gets given a directory path, checks if it exists, and if it doesn't, attempts to create it.</p>
<pre><code>def checkExportDir(directory):
</code></pre>

<p>Check if we have a UNIX-style subdirectory being handed in.</p>
<pre><code>    if '/' in directory:
</code></pre>

<p>Do some clever magic to walk through each of the folders given as a path, and check if the folder exists. If not, make it.</p>
<pre><code>        previousFolder = False
</code></pre>

<pre><code>        for folder in directory.split('/'):
</code></pre>

<pre><code>            if not previousFolder:
</code></pre>

<pre><code>                if folder != &quot;&quot;:
</code></pre>

<pre><code>                    if not os.path.exists(folder):
</code></pre>

<pre><code>                        print(folder)
</code></pre>

<pre><code>                        os.makedirs(folder)
</code></pre>

<pre><code>                        previousFolder = folder
</code></pre>

<pre><code>            else:
</code></pre>

<pre><code>                if not os.path.exists(previousFolder + &quot;/&quot; + folder):
</code></pre>

<pre><code>                    print(previousFolder + '/' + folder)
</code></pre>

<pre><code>                    os.makedirs(previousFolder + &quot;/&quot; + folder)
</code></pre>

<pre><code>                    previousFolder = previousFolder + &quot;/&quot; + folder
</code></pre>

<p>If we're just given a single directory, check if it exists, if not, make it.</p>
<pre><code>    if not os.path.exists(directory):
</code></pre>

<pre><code>        os.makedirs(directory)
</code></pre>

<h1 id="unicode-compare-character">Unicode Compare Character</h1>
<p>This is a function that only exists due to the unicode differences between Python 2.8, 3.0, and 3.3.</p>
<p>It checks the allowed functions and returns the correct unicode character for the code it was given.</p>
<pre><code>def unicodeCompareChar(uniCode):
</code></pre>

<pre><code>    try:
</code></pre>

<p>This is one way unicode can be handled pre Python 3.x</p>
<pre><code>        compareChar = unichr(uniCode)
</code></pre>

<pre><code>    except NameError:
</code></pre>

<p>This is one way unicode can be handled in Python 3.x, because Python 3.x uses unicode for... Everything.</p>
<pre><code>        compareChar = chr(uniCode)
</code></pre>

<pre><code>    return compareChar
</code></pre></div>
            
        </div>

        <footer class="col-md-12">
            <hr>
            
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>

        

        <script src="../js/jquery-1.10.2.min.js"></script>
        <script src="../js/bootstrap-3.0.3.min.js"></script>
        <script src="../js/highlight.pack.js"></script>
        <script src="../js/base.js"></script>

        <!--
        MkDocs version  : 0.12.2
        Docs Build Date : 2015-05-22 23:03:10.546974
        -->
    </body>
</html>